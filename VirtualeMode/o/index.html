<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>#o â€“ Ï»iapolğ¯o</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    html, body {
      margin: 0;
      height: 100%;
      background: #000; /* å®Œå…¨é»’ */
      overflow: hidden;
    }
    /* æ˜Ÿç©ºã‚­ãƒ£ãƒ³ãƒã‚¹ï¼ˆé™æ­¢æ˜Ÿ + æµã‚Œæ˜Ÿï¼‰ */
    canvas#sky {
      position: fixed;
      inset: 0;
      display: block;
      background: #000;
      z-index: 0;
      pointer-events: none; /* ã‚¯ãƒªãƒƒã‚¯é€é */
    }
    /* ä¸­å¤®ãƒªãƒ³ã‚¯ï¼ˆãã®ã¾ã¾ï¼‰ */
    .center {
      position: relative;
      z-index: 1;
      height: 100%;
      display: grid;
      place-items: center;
    }
    .links {
      display: flex;
      gap: 4em;
    }
    .links a {
      text-decoration: none;
      color: #7F7F7F;
      font-size: 3.14159265359em;
      font-style: italic;
      letter-spacing: 0.01em;
      -webkit-tap-highlight-color: rgba(255,255,255,0.1);
    }
    .links a.femme { font-family: Futura, sans-serif; }
    .links a.homme { font-family: Helvetica, Arial, sans-serif; }
    .links a:hover { text-decoration: underline; }
    .links a:focus-visible {
      outline: 2px dashed #7F7F7F;
      outline-offset: 6px;
    }
  </style>
</head>
<body>
  <canvas id="sky" aria-hidden="true"></canvas>

  <div class="center">
    <nav class="links" aria-label="primary">
      <a class="femme" href="https://opensea.io/item/ethereum/0xd91cd9974a4e19e4d23a4a2d94e2e5dd172eee8d/2" target="_blank" rel="noopener">Femme</a>
      <a class="homme" href="https://opensea.io/item/ethereum/0xd91cd9974a4e19e4d23a4a2d94e2e5dd172eee8d/1" target="_blank" rel="noopener">Homme</a>
    </nav>
  </div>

  <script>
    /* ========= è¨­å®š ========= */
    const STAR_COUNT = 1728;           // ç·æ˜Ÿæ•°ï¼ˆå›ºå®šï¼‰
    const USE_CIRCLE = true;           // å††å½¢ã®æ˜Ÿç©ºã«ã™ã‚‹
    const USE_MILKY_BAND = true;       // å¤©ã®å·é¢¨ã®å¯†åº¦ãƒã‚¤ã‚¢ã‚¹
    const BAND_ANGLE_DEG = 43;         // å¸¯ã®è§’åº¦ï¼ˆè±¡å¾´çš„ã«è¨­å®šï¼‰
    const BAND_SIGMA = 0.18;           // å¸¯ã®å¹…ï¼ˆ0.1ã€œ0.3æ¨å¥¨ï¼‰
    const STAR_MIN_RADIUS_CSS = 0.5;   // CSS pxï¼ˆDPRã«ã‚ˆã‚Šå®Ÿè³ª1ãƒ‡ãƒã‚¤ã‚¹pxï¼‰
    const STAR_MAX_RADIUS_CSS = 1.2;   // å°‘ã—ã ã‘ã°ã‚‰ã¤ã

    // æµã‚Œæ˜Ÿï¼ˆã‚¤ã‚¹ãƒ©ãƒ è±¡å¾´ç¢ºç‡ï¼‰
    const PROB_BASE = 1/19;            // åŸºæœ¬ï¼šåä¹
    const PROB_RARE = 1/114;           // ãƒ¬ã‚¢ï¼š114ã‚¹ãƒ¼ãƒ©
    const PROB_ULTRA = 1/786;          // è¶…ãƒ¬ã‚¢ï¼š786ï¼ˆBasmalaï¼‰
    const METEOR_INTERVAL_MS = 1000;   // 1ç§’ã”ã¨ã«åˆ¤å®š
    const STAR_CHARS = ["â­ï¸","âœ³ï¸","âœ´ï¸","â˜…"];

    /* ========= Canvas æº–å‚™ ========= */
    const canvas = document.getElementById('sky');
    const ctx = canvas.getContext('2d');

    function resizeCanvas() {
      const dpr = Math.max(1, window.devicePixelRatio || 1);
      const w = Math.floor(window.innerWidth);
      const h = Math.floor(window.innerHeight);
      canvas.width = Math.floor(w * dpr);
      canvas.height = Math.floor(h * dpr);
      canvas.style.width = w + 'px';
      canvas.style.height = h + 'px';
      ctx.setTransform(dpr, 0, 0, dpr, 0, 0); // ä»¥å¾Œã¯CSS pxåŸºæº–ã§æã‘ã‚‹
      redrawStatic();
    }

    window.addEventListener('resize', resizeCanvas, { passive: true });

    /* ========= æ˜Ÿç”Ÿæˆï¼ˆé™æ­¢ï¼‰ ========= */
    let starField = null; // ã‚ªãƒ•ã‚¹ã‚¯ãƒªãƒ¼ãƒ³
    function redrawStatic() {
      const w = canvas.clientWidth;
      const h = canvas.clientHeight;

      // ã‚ªãƒ•ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ç”Ÿæˆ
      const off = document.createElement('canvas');
      off.width = w;
      off.height = h;
      const ox = off.getContext('2d');

      // èƒŒæ™¯ï¼ˆå®Œå…¨é»’ï¼‰
      ox.fillStyle = '#000';
      ox.fillRect(0, 0, w, h);

      // ä¸­å¿ƒãƒ»åŠå¾„ï¼ˆå††å½¢ãƒ¢ãƒ¼ãƒ‰ï¼‰
      const cx = w / 2;
      const cy = h / 2;
      const radius = Math.min(w, h) / 2 - 2; // å¤–å‘¨ã«å°‘ã—ä½™ç™½

      // å¸¯ã®è§’åº¦ï¼ˆãƒ©ã‚¸ã‚¢ãƒ³ï¼‰
      const ang = (BAND_ANGLE_DEG % 360) * Math.PI / 180;
      const dirX = Math.cos(ang), dirY = Math.sin(ang);

      // æ˜Ÿã®æç”»
      ox.fillStyle = '#FFF';
      for (let i = 0; i < STAR_COUNT; i++) {
        let x, y;

        if (USE_CIRCLE) {
          // å††å†…ä¸€æ§˜åˆ†å¸ƒï¼ˆæ¥µåº§æ¨™æ³•ï¼‰
          const r = Math.sqrt(Math.random()) * radius;
          const t = Math.random() * Math.PI * 2;
          x = cx + r * Math.cos(t);
          y = cy + r * Math.sin(t);
        } else {
          // çŸ©å½¢ä¸€æ§˜
          x = Math.random() * w;
          y = Math.random() * h;
        }

        // å¤©ã®å·ãƒã‚¤ã‚¢ã‚¹ï¼šå¸¯ã®ä¸­å¿ƒç·šã‹ã‚‰ã®è·é›¢ d ã‚’è©•ä¾¡
        if (USE_MILKY_BAND) {
          // ç‚¹(x,y)ã‹ã‚‰å¸¯ç›´ç·šã¸ã®è·é›¢ï¼ˆç¬¦å·ãªã—ï¼‰
          const vx = x - cx, vy = y - cy;
          const dist = Math.abs(vx * (-dirY) + vy * (dirX)); // å‚ç·šè·é›¢ã«ç›¸å½“
          const norm = USE_CIRCLE ? radius : Math.hypot(w, h);
          const nd = dist / norm; // æ­£è¦åŒ–è·é›¢ï¼ˆ0ã€œï¼‰
          // è·é›¢ãŒå°ã•ã„ã»ã©æ¿ƒãï¼ˆã‚µã‚¤ã‚ºã‚„æ˜åº¦ã«åæ˜ ï¼‰
          var weight = Math.exp(- (nd*nd) / (2 * BAND_SIGMA*BAND_SIGMA)); // ã‚¬ã‚¦ã‚¹
          // ã‚µã‚¤ã‚¹ã‚™ãƒ»ä¸é€æ˜åº¦ã«åæ˜ ï¼ˆæ“¬ä¼¼çš„ãªæ˜Ÿç­‰ç´šï¼‰
          const rCSS = STAR_MIN_RADIUS_CSS + (STAR_MAX_RADIUS_CSS - STAR_MIN_RADIUS_CSS) * (0.2 + 0.8 * weight);
          ox.globalAlpha = 0.55 + 0.45 * weight;
          drawDot(ox, x, y, rCSS);
        } else {
          ox.globalAlpha = 0.85;
          const rCSS = STAR_MIN_RADIUS_CSS + Math.random() * (STAR_MAX_RADIUS_CSS - STAR_MIN_RADIUS_CSS);
          drawDot(ox, x, y, rCSS);
        }
      }

      // å††å½¢ã®å¤–å´ã‚’é»’ã§ãƒã‚¹ã‚¯ï¼ˆå¤–å‘¨ã‚’å††ã«ï¼‰
      if (USE_CIRCLE) {
        ox.save();
        ox.globalCompositeOperation = 'destination-in';
        ox.beginPath();
        ox.arc(cx, cy, radius, 0, Math.PI * 2);
        ox.closePath();
        ox.fill();
        ox.restore();
      }

      starField = off;
      // æœ€åˆã®ãƒ•ãƒ¬ãƒ¼ãƒ æç”»
      ctx.clearRect(0, 0, w, h);
      ctx.drawImage(starField, 0, 0);
    }

    function drawDot(ox, x, y, rCSS) {
      // 1pxç´šã®é‹­ã„ç‚¹
      ox.beginPath();
      ox.arc(x, y, rCSS, 0, Math.PI * 2);
      ox.fill();
    }

    /* ========= æµã‚Œæ˜Ÿï¼ˆè¨˜å·ï¼‰ ========= */
    const meteors = [];
    function spawnMeteor(options={}) {
      const w = canvas.clientWidth;
      const h = canvas.clientHeight;

      // ç«¯ã‹ã‚‰é£›ã³è¾¼ã‚€4æ–¹å‘ã‹ã‚‰é¸ã¶
      const side = Math.floor(Math.random() * 4); // 0:å·¦,1:å³,2:ä¸Š,3:ä¸‹
      let x, y, vx, vy;
      const speed = 300 + Math.random() * 300; // px/s
      const life = 1.0 + Math.random() * 0.8;  // ç§’
      const char = STAR_CHARS[Math.floor(Math.random() * STAR_CHARS.length)];
      // è‰²ã¯ #7F7F7Fï¼ˆåŸºæœ¬ï¼‰ / #FFFï¼ˆãƒ¬ã‚¢ï¼‰
      const rareColor = Math.random() < 0.15; // ãƒ¬ã‚¢ã®ä¸­ã§ã‚‚è‰²å·®ã‚’å°‘ã—
      const color = options.color || (rareColor ? '#FFF' : '#7F7F7F');

      if (side === 0) { x = -20; y = Math.random() * h; vx = speed; vy = (Math.random() - 0.5) * 150; }
      else if (side === 1){ x = w+20; y = Math.random() * h; vx = -speed; vy = (Math.random() - 0.5) * 150; }
      else if (side === 2){ x = Math.random() * w; y = -20; vx = (Math.random() - 0.5) * 150; vy = speed; }
      else { x = Math.random() * w; y = h+20; vx = (Math.random() - 0.5) * 150; vy = -speed; }

      meteors.push({
        x, y, vx, vy,
        life, ttl: life,
        char, color,
        size: 18 + Math.random() * 8 // è¨˜å·ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º(px)
      });
    }

    function updateAndDrawMeteors(dt) {
      // èƒŒæ™¯ï¼ˆé™æ­¢æ˜Ÿï¼‰ã‚’ã¾ãšè²¼ã‚‹
      if (starField) ctx.drawImage(starField, 0, 0);

      ctx.save();
      meteors.forEach((m, idx) => {
        m.ttl -= dt;
        m.x += m.vx * dt;
        m.y += m.vy * dt;

        const alpha = Math.max(0, Math.min(1, m.ttl / m.life));
        // è»Œè·¡ï¼ˆè–„ã„ç·šï¼‰
        ctx.globalAlpha = 0.25 * alpha;
        ctx.strokeStyle = m.color === '#7F7F7F' ? 'rgba(127,127,127,0.25)' : '#FFF';
        ctx.lineWidth = 1;
        ctx.beginPath();
        ctx.moveTo(m.x - m.vx * 0.05, m.y - m.vy * 0.05);
        ctx.lineTo(m.x, m.y);
        ctx.stroke();

        // æœ¬ä½“ï¼ˆè¨˜å·ï¼‰
        ctx.globalAlpha = 0.85 * alpha;
        ctx.fillStyle = m.color;
        ctx.font = `${m.size}px serif`;
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        ctx.fillText(m.char, m.x, m.y);
      });
      ctx.restore();

      // æ¶ˆæ»…
      for (let i = meteors.length - 1; i >= 0; i--) {
        if (meteors[i].ttl <= 0) meteors.splice(i, 1);
      }
    }

    /* ========= ãƒ¡ã‚¤ãƒ³ãƒ«ãƒ¼ãƒ— ========= */
    let last = performance.now();
    function frame(t) {
      const w = canvas.clientWidth, h = canvas.clientHeight;
      // ã‚¯ãƒªã‚¢&é™æ­¢æ˜Ÿ
      ctx.clearRect(0, 0, w, h);
      updateAndDrawMeteors((t - last) / 1000);
      last = t;
      requestAnimationFrame(frame);
    }

    // 1ç§’ã”ã¨ã«å‡ºç¾åˆ¤å®šï¼ˆè±¡å¾´ç¢ºç‡ï¼‰
    setInterval(() => {
      if (Math.random() < PROB_BASE) spawnMeteor();           // é€šå¸¸ï¼ˆ#7F7F7Fï¼‰
      if (Math.random() < PROB_RARE) spawnMeteor({color:'#FFF'}); // ãƒ¬ã‚¢ï¼ˆç™½ãé‹­ã„ï¼‰
      if (Math.random() < PROB_ULTRA) {                         // è¶…ãƒ¬ã‚¢ï¼ˆäº¤å·®ï¼‰
        spawnMeteor();
        spawnMeteor();
      }
    }, METEOR_INTERVAL_MS);

    // åˆæœŸåŒ–
    resizeCanvas();
    requestAnimationFrame(frame);
  </script>
</body>
</html>