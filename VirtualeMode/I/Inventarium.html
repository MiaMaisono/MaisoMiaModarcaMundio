<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Inventarium</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

  <style>
    /* ===============================
       ここが CSS（見た目の指定）
       =============================== */
    :root{
      --bg:#000;
      --fg:#7F7F7F;
      --white:#FFF;
      --radius:26.5px;
      --phi:1.618033988;     /* Femme 縦横比 */
      --rt2:1.414213562;     /* Homme 縦横比 */
    }

    /* 画面全体（Græy の角丸＋外周） */
    html,body{
      margin:0;
      height:100%;
      background:var(--bg);
      color:var(--fg);
      font-family:Georgia,serif;
    }
    body{
      border-radius:var(--radius);
      outline:12px solid #7f7f7f;      /* Græy 外周 */
      box-shadow:0 0 0 0px #fff inset; /* 内側白枠（今は 0px） */
      overflow:hidden;
    }

    /* 全体レイアウト：上下にヘッダー／中身／フッター */
    .shell{
      height:100%;
      display:flex;
      flex-direction:column;
    }

    header{
      padding:8px 18px;
      font-size:14px;
      text-align:right;
    }
    header span.current{
      color:var(--white);
    }

    footer{
      padding:12px 0 18px;
      text-align:center;
      font-size:12px;
      opacity:.9;
    }

    /* 中央：左右 2 カラム（常に 50% : 50%） */
    .columns{
      flex:1;
      display:flex;
      padding:8px 18px 0;
      box-sizing:border-box;
      gap:18px;
    }
    .col{
      flex:1;
      display:flex;
      justify-content:center;
      align-items:center;
    }

    /* 共通：額縁の黒い背景 */
    .frame{
      width:100%;
      max-width:320px;
      background:#000;
      padding:8px;
      box-sizing:border-box;
      display:flex;
      justify-content:center;
      align-items:center;
    }

    /* ===============================
       Femme（ダイヤ配置・縦長 1 : 1.618）
       =============================== */
    .femme-grid{
      width:100%;
      aspect-ratio:calc(1/var(--phi));
      display:grid;
      grid-template-columns:repeat(3,1fr);
      grid-auto-rows:1fr;
      place-items:center;
      gap:4px;
    }

    .femme-cell{
      width:88%;
      aspect-ratio:1;
      background:#444;
      transform:rotate(45deg);  /* ひし形に見せる */
      display:flex;
      justify-content:center;
      align-items:center;
      font-size:8px;
    }

    /* 中央の一枚（原寸枠） */
    .femme-cell.main{
      width:100%;
      background:#777;
    }

    /* ===============================
       Homme（正方形グリッド・縦長 1 : 1.414）
       =============================== */
    .homme-grid{
      width:100%;
      aspect-ratio:calc(1/var(--rt2));
      display:grid;
      grid-template-columns:repeat(3,1fr);
      grid-auto-rows:1fr;
      gap:4px;
    }

    .homme-cell{
      width:88%;
      aspect-ratio:1;
      background:#555;
      display:flex;
      justify-content:center;
      align-items:center;
      font-size:8px;
    }

    .homme-cell.main{
      width:100%;
      background:#777;
    }

    /* スマホで縦に潰れすぎる場合の保険（幅が狭い時は上下に積む） */
    @media (max-width:700px){
      .columns{
        flex-direction:column;
      }
      .frame{
        max-width:none;
      }
    }
  </style>
</head>

<body>
  <div class="shell">
    <header>
      <!-- ラベルは JS から書き込む -->
      <span id="label-left"></span>
      <span> / </span>
      <span id="label-right"></span>
    </header>

    <main class="columns">
      <section id="col-left"  class="col"></section>
      <section id="col-right" class="col"></section>
    </main>

    <footer>
      ineffabilis / ineffable / ineffabile / inefavlo
    </footer>
  </div>

  <script>
    // ===============================
    // ここが JS（動きの部分）
    // ===============================

    const TOTAL = 145;          // セルの総数
    const MAIN_INDEX = 0;       // 「原寸枠」にするセル（仮に 0 番）

    // FEMME / HOMME の左右をランダムに決める
    const leftIsFemme = Math.random() < 0.5;

    const colLeft  = document.getElementById('col-left');
    const colRight = document.getElementById('col-right');
    const labelLeft  = document.getElementById('label-left');
    const labelRight = document.getElementById('label-right');

    if (leftIsFemme) {
      colLeft.appendChild(makeFemmeFrame());
      colRight.appendChild(makeHommeFrame());
      labelLeft.textContent  = 'Femme';
      labelRight.textContent = 'Homme';
      labelLeft.classList.add('current');
    } else {
      colLeft.appendChild(makeHommeFrame());
      colRight.appendChild(makeFemmeFrame());
      labelLeft.textContent  = 'Homme';
      labelRight.textContent = 'Femme';
      labelRight.classList.add('current');
    }

    // ───── Femme の額縁 ─────
    function makeFemmeFrame(){
      const frame = document.createElement('div');
      frame.className = 'frame';

      const grid = document.createElement('div');
      grid.className = 'femme-grid';

      for (let i = 0; i < TOTAL; i++) {
        const cell = document.createElement('div');
        cell.className = 'femme-cell' + (i===MAIN_INDEX ? ' main' : '');
        // いまはダミーテキスト。あとで画像を入れ替え。
        // cell.textContent = i+1;
        grid.appendChild(cell);
      }

      frame.appendChild(grid);
      return frame;
    }

    // ───── Homme の額縁 ─────
    function makeHommeFrame(){
      const frame = document.createElement('div');
      frame.className = 'frame';

      const grid = document.createElement('div');
      grid.className = 'homme-grid';

      for (let i = 0; i < TOTAL; i++) {
        const cell = document.createElement('div');
        cell.className = 'homme-cell' + (i===MAIN_INDEX ? ' main' : '');
        // cell.textContent = i+1;
        grid.appendChild(cell);
      }

      frame.appendChild(grid);
      return frame;
    }
  </script>
</body>
</html>